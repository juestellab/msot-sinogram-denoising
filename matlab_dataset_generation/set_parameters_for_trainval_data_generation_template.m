% ****************************************************************
% *** HOWTO
% ****************************************************************
% 0) Do not modify this template file "set_parameters_for_trainval_data_generation_template.py"
% 1) Create a new copy of this file "set_parameters_for_trainval_data_generation_template.py" in your local environment and rename it into "set_parameters_for_trainval_data_generation.py"
% 2) Indicate all the variables according to your local environment and experiment
% 3) Use your own "set_parameters_for_trainval_data_generation.py" file to run the code
% 4) Do not commit/push your own "set_parameters_for_trainval_data_generation.py" file to the collective repository, it is not relevant for other people
% 5) The untracked file "set_parameters_for_trainval_data_generation.py" is automatically copied to the data output folder for reproductibility
% ****************************************************************
function [...
    path_to_rec_toolbox,...
    deviceId,...
    output_root_path,...
    splits,...
    preproc_min_filt_freq,...
    preproc_max_filt_freq,...
    apply_windowing,...
    preproc_window_length_start,...
    preproc_window_length_end,...
    preproc_window_butter_degree,...
    num_cropped_samples_sinogram_start,...
    num_cropped_samples_sinogram_end,...
    study_path_of_noise_samples,...
    studies_of_noise_samples_per_split,...
    scans_of_noise_samples_per_split,...
    wavelengths_considered_for_noise_samples,...
    image_folder,...
    voc2012_start_indices_per_split,...
    num_considered_voc2012_imgs_per_split,...
    use_eir,...
    use_indiv_eir,...
    use_sir,...
    use_single_speed_of_sound,...
    field_of_view,...
    number_of_grid_points_fov,...
    speed_of_sound_tissue] = set_parameters_for_trainval_data_generation()

% General paramters
path_to_rec_toolbox = '???';              % Path to model-based reconstruction toolbox.
output_root_path = '???';                 % Output folder for the generated dataset
splits = {'train', 'val'};                % Split names of the generated dataset

% Preprocessing parameters for all sinograms; see model-based reconstruction toolbox for detailed description.
deviceId = '???';                       	% Id of a MOST device defined in the model-based reconstruction toolbox.   
preproc_min_filt_freq = 500e3;              % Lower cut-off frequency for bandpass filtering
preproc_max_filt_freq = 12e6;               % Higher frequency for bandpass filtering
apply_windowing = false;                    % Apply windowing to remove filtering artifacts at the start and the end of the sinogram.
preproc_window_length_start = 300;          % Windowing length at the beginning of the sinogram
preproc_window_length_end = 300;            % Windowing length at the end of the sinogram
preproc_window_butter_degree = 2;           % Degree of the butterworth filter, whose magneture response in the frequency domain is used as window.
num_cropped_samples_sinogram_start = 30;    % Number of cropped samples at the sinogram start
num_cropped_samples_sinogram_end = 0;       % Number of cropped samples at the sinogram end

% Parameters for generating a dataset of noise sinograms
study_path_of_noise_samples = '???';              % Path to raw data of recorded electrical noise samples.
studies_of_noise_samples_per_split = {[], []};    % Cell array that specifies for each dataset split the corresponding studies. Each study must be listed once for every scan of the study that should be loaded (also see scans_of_noise_samples_per_split).
scans_of_noise_samples_per_split = {[], []};      % Cell array that specifies for each dataset split the corresponding scans. I.e. for each study in studies_of_noise_samples_per_split, scans_of_noise_samples_per_split specifies the corresponding scan.
wavelengths_considered_for_noise_samples = 1:10;  % Indices of all the wavelengths in a scan that should be used as noise samples. 
% Additional notes: 
% * The data loading routine and differentiation into studies and scans is specific to the used scanner.
% * If data for train and val is acquired in one scan, manually create the dataset splits after the noise data generation.

% Parameters for generating a dataset of synthetic optoacoustic sinograms.
image_folder = '???';                                  % Path to 'JPEGImages' folder of VOC2012 dataset.
voc2012_start_indices_per_split = [1, 12001];          % Incides of first VOC2012 image per split to ensure that no image is used more than one split.
num_considered_voc2012_imgs_per_split = [8000, 2000];  % Array with the number of VOC2012 iamges that are processed for each split.

use_eir = true;                             % Include the electrical impulse response in the forward simulation.
use_indiv_eir = true;                       % Include the individual electrical impulse response in the forward simulation.
use_sir = true;                             % Include the spatial impulse response in the forward simulation
use_single_speed_of_sound = false;          % Use a single SoS model instead of a duals SoS model in the foreard simulation
field_of_view = [-0.02 0.02 -0.02 0.02];    % Field of view for the forward simulation
number_of_grid_points_fov = [401 401];      % Image size for the forward simulation
speed_of_sound_tissue = 1500;               % Speed of sound for the forward simulation
% Note: See model-based reconstruction toolbox for more detailed description of the parameters in the last block.odel-based reconstruction toolbox.
end